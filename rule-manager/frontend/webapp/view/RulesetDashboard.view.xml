<mvc:View
    controllerName="com.sap.pm.rulemanager.controller.RulesetDashboard"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc">

    <Page id="rulesetListPage" title="{i18n>dashboardTitle}">
        <headerContent>
            <Toolbar>
                <ToolbarSpacer />
                <Button icon="sap-icon://add" text="Create Ruleset" press=".onCreateRuleset" />
                <Button icon="sap-icon://sap-icon://initiative" text="Import from SOP" press=".onImportFromSop" />
            </Toolbar>
        </headerContent>
        <content>
            <Table
                id="rulesetsTable"
                items="{rulesets>/}"
                noDataText="{i18n>noDataText}">
                <columns>
                    <Column><Text text="{i18n>rulesetNameLabel}" /></Column>
                    <Column><Text text="{i18n>assignedToLabel}" /></Column>
                    <Column><Text text="{i18n>statusLabel}" /></Column>
                    <Column><Text text="{i18n>versionLabel}" /></Column>
                    <Column />
                </columns>
                <items>
                    <ColumnListItem type="Navigation" press=".onPressRuleset">
                        <cells>
                            <Text text="{rulesets>name}" />
                            <Text text="{rulesets>notification_type}" />
                            <ObjectStatus text="{rulesets>status}" />
                            <Text text="{rulesets>version}" />
                            <HBox>
                                <Button icon="sap-icon://edit" press=".onEditRuleset" visible="{= ${rulesets>status} === 'Draft' }" />
                                <Button icon="sap-icon://activate" press=".onActivateRuleset" visible="{= ${rulesets>status} === 'Draft' }" tooltip="Activate" />
                            </HBox>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
    </Page>
</mvc:View>
